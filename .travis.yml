language: python
python:
- '2.7'
install:
- pip install .
script:
- python setup.py test
deploy:
  - provider: releases
    skip_cleanup: true
    api-key:
        secure: YkUz/Pr/hG+W9mnbFv+XGNGNwvrtHORQjld5wR242s2dw7xoJ04pwU/5xk1y474g/P9drVXMxLpWbCXayFlJkexbe4T7ObxlK1F0RB0DnrlrlqV7EV8J0T502SCC0vV48AQwcilVAeV9+/ZkHeBiCfUtwJ1VdyMCVlTFsq3rENSzkvyCv2THOcytKPk0h1S/IqoB9ckYpbwxbHwK4jaxH+KZUYonH34/Vgx77wcdplZ/yVfnL7R6UVFuEkp2O4pafpU4paZ6rIojjW3nPkDeMrenpwIZokwQ8KPREPnqSKtG/gDRHsp+4apHiM77ktzkAhvdpv4zIDAdpEPPFVggpEZeyqgottblTDPoz+ssOdzM2FHGEohu6lm+ZJoaOKj6i0RAiANSgkS6/jK9o6BN0HCMFsI7Vbw8aMRy1qQKXA3S8Iq0Wmi8URYyqkdixueBwjGbEbvYSTGZbBdawpliE1FLU/7J1y9pwC1q83q3RguEoqOUpZN28pLkiPFFKeZRogxChcgkBKhkHQb71F+qN3NzIcr1ExtXO4bdQ9PmsbJNKvf/aLHnxYubfTzJ99C9jJQJIHDh1RyAOPUlgf+M3gdLOS1GEngOer35o43qhQ7utBIud29aqYD0iXg/FrAkOcaDVuF44FqDLfN4GVGYMusgbFMZDeVSV4awHPX5C6c=
    name: deeputil-0.1
    tag_name: 0.1
    on:
        branch: master
        repo: deep-compute/deeputil
    # test pypi
  - provider: pypi
    distributions: "sdist bdist_wheel"
    server: https://testpypi.python.org/pypi
    skip_cleanup: true
    user: "deepcompute"
    password:
      secure: "n7FJn0pqynEEqsePAyiBIWd2NIa2wHRRRmgOX6QteG3W3RA1M3X3oCaLQll/7FGjtaw78/D6K3dk/k8aQF0W8pJr7seiBPsZGtQpMXjPBKh8dk+st6vi9xoV8UrJ46oR6nK89PLG55RECaPp82KP2MKg+qqS126H8B6LCYR3G+b9Nz7b0F6E4AW+VhjMnu75hngNNQt8oP1RuVKXiOStA59GZn9L0iIonZNhezHNqvCuk151x0/dUdcD4s4J1qyoGAWQAut1hrZZJP5mNdAzP40b8IyyHCvHWlGHQZ7P+AHn0Li/00l30uEJ5Qy+CD4TcHM/YQLeSb4bhMRQNvTmI+0G69AELyouV0lOs85lkz5l1XsnqtbzA18Rd2ylGUqro/to/LUdbIyB+udWCRk7r9YA9pbr6Jw8vp9moHti+1wiuwgTnq21IUIVXyV59nb97rfb/ZgDzPU2v54AepAYMm5VlQqCFdtWcFDXeuNIAuQ7cO0w02nFppdh4UMbyw6R14v4NY/VPbJNONr7rZRAV1BRrZ4ati/oMq68g0OL3WnG3t8Nsb2H34SZdRtQjNvNGudQpoyhMFGNBAF5JvbEIUvgknFz6hiFmTiijDLlrupQiJXkRRRX+rlE8xwZos9LJqZfaOyEL2WsEI0WR68A3xM2D8lQ/+qgGe0uaP06pa4="
    on:
      branch: master
      tags: false
    # pypi
  - provider: pypi
    distributions: "sdist bdist_wheel"
    skip_cleanup: true
    user: "deepcompute"
    password:
      secure: "n7FJn0pqynEEqsePAyiBIWd2NIa2wHRRRmgOX6QteG3W3RA1M3X3oCaLQll/7FGjtaw78/D6K3dk/k8aQF0W8pJr7seiBPsZGtQpMXjPBKh8dk+st6vi9xoV8UrJ46oR6nK89PLG55RECaPp82KP2MKg+qqS126H8B6LCYR3G+b9Nz7b0F6E4AW+VhjMnu75hngNNQt8oP1RuVKXiOStA59GZn9L0iIonZNhezHNqvCuk151x0/dUdcD4s4J1qyoGAWQAut1hrZZJP5mNdAzP40b8IyyHCvHWlGHQZ7P+AHn0Li/00l30uEJ5Qy+CD4TcHM/YQLeSb4bhMRQNvTmI+0G69AELyouV0lOs85lkz5l1XsnqtbzA18Rd2ylGUqro/to/LUdbIyB+udWCRk7r9YA9pbr6Jw8vp9moHti+1wiuwgTnq21IUIVXyV59nb97rfb/ZgDzPU2v54AepAYMm5VlQqCFdtWcFDXeuNIAuQ7cO0w02nFppdh4UMbyw6R14v4NY/VPbJNONr7rZRAV1BRrZ4ati/oMq68g0OL3WnG3t8Nsb2H34SZdRtQjNvNGudQpoyhMFGNBAF5JvbEIUvgknFz6hiFmTiijDLlrupQiJXkRRRX+rlE8xwZos9LJqZfaOyEL2WsEI0WR68A3xM2D8lQ/+qgGe0uaP06pa4="
    on:
      branch: master
      # only when there is a release it will update pypi
      tags: true
